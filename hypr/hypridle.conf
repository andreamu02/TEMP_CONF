general {
    # use full path to avoid PATH problems
    lock_cmd = pidof hyprlock || hyprlock -q --no-fade-in
    before_sleep_cmd = /usr/bin/loginctl lock-session
    after_sleep_cmd = /usr/bin/hyprctl dispatch dpms on
    inhibit_sleep = 3            # wait for lock to finish before allowing sleep
}

listener {
  timeout = 300                                  
  on-timeout = brightnessctl -s set 10         
  on-resume = brightnessctl -r                 
}

listener { 
    timeout = 300                                          
    on-timeout = brightnessctl -sd rgb:kbd_backlight set 0 
    on-resume = brightnessctl -rd rgb:kbd_backlight 
}

listener {
  timeout = 330
  on-timeout = /usr/bin/loginctl lock-session
}

listener {
  timeout = 350
  on-timeout = hyprctl dispatch dpms off
  on-resume = hyprctl dispatch dpms on && brightnessctl -r
}

listener {
  timeout = 1800
  on-timeout = systemctl suspend
}

windowrulev2 = idleinhibit fullscreen, class:^(*)$
windowrulev2 = idleinhibit fullscreen, title:^(*)$
windowrulev2 = idleinhibit fullscreen, fullscreen:1
